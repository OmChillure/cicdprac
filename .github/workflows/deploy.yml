name : Push-to-EC2

on:
  push:
    branches:
      - master

jobs :
  deploy :
    name : Push to EC2
    runs-on : ubuntu-latest

    steps :
      - name : Checkout code
        uses : actions/checkout@v2

      - name : executing remote sssh connection
        uses : appleboy/ssh-action@v1.2.0
        with :
          host : 172.31.16.192
          username : ubuntu
          key : ${{ secrets.PRIVATE_SSH_KEY }}
          port : 22
          script : whoami
